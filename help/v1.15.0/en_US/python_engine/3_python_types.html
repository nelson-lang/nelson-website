<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html xmlns:ext="http://io.github.nelson_lang/ext" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Python Nelson types</title>
<link rel="stylesheet" href="highlight.css">
<link rel="stylesheet" href="nelson_common.css">
<script type="text/javascript">
                document.addEventListener('click', function(e) {
                  var a = (typeof e.target.closest === 'function') ? e.target.closest('a[href]') : null;
                  if (!a) return;
                  var href = a.getAttribute('href');
                  if (/^https?:\/\//i.test(href)) {
                    e.preventDefault();
                    window.open(href, '_blank', 'noopener');
                  }
                }, true);
            </script><script src="highlight.pack.js"></script><script>hljs.highlightAll();</script><script>
                document.addEventListener('DOMContentLoaded', function() {
                    document.querySelectorAll('code.matlab').forEach(function(block) {
                        if (window.hljs) hljs.highlightElement(block);
                    });
                });
            </script><script type="text/javascript">
                function copyExample(btn) {
                    var codeBlock = btn.parentNode.parentNode.querySelector('code');
                    if (codeBlock) {
                        var text = codeBlock.textContent;
                        navigator.clipboard.writeText(text).then(function() {
                            btn.setAttribute('data-copied', 'true');
                            btn.setAttribute('aria-label', 'Copied!');
                            btn.title = 'Copied!';
                            setTimeout(function(){ 
                                btn.removeAttribute('data-copied');
                                btn.setAttribute('aria-label', 'Copy');
                                btn.title = 'Copy';
                            }, 1200);
                        }, function() {
                            btn.setAttribute('aria-label', 'Error');
                            btn.title = 'Error';
                        });
                    }
                }
            </script>
</head>
<body>
<a href="./index.html" class="home-summary-link"><button class="home-summary-btn" aria-label="Back to help index"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12L12 3l9 9"></path><path d="M9 21V12h6v9"></path><path d="M9 21h6"></path></svg></button></a><div class="header"><div class="title"><span class="keyword-title">Python Nelson types</span></div></div>
<div class="section syntax-section"><div class="subtitle">Managing Data between Python and Nelson.</div></div>
<div class="section">
<div class="section-title">
<span class="syntax-icon">ðŸ“„</span> Description</div>
<div>
        <p>
            <b>Managing data returned by Python functions:</b>
        </p>
        
            
                Python return type, as shown in Python
                Corresponding Nelson type (scalar)
            
            
                bool
                logical
            
            
                complex
                double (complex)
            
            
                float
                double
            
        
        <p></p>
        <p>
            <b>Convert Python types to Nelson type explicitly:</b>
        </p>
        <p></p>
        
            
                Python return types or protocols shown in Nelson
                Nelson conversion methods
            
            
                py.str
                char, string
            
            
                py.int
                double, single, int8, uint8, int16, uint16, int32, uint32, int64, uint64
            
            
                py.long
                double, single, int8, uint8, int16, uint16, int32, uint32, int64, uint64
            
            
                py.float
                double, single, int8, uint8, int16, uint16, int32, uint32, int64, uint64
            
            
                py.bool
                double, single, int8, uint8, int16, uint16, int32, uint32, int64, uint64, logical
            
            
                py.bytes
                double, single, int8, uint8, int16, uint16, int32, uint32, int64, uint64, logical
            
            
                py.bytearray
                double, single, int8, uint8, int16, uint16, int32, uint32, int64, uint64, logical
            
            
                py.array.array
                double, single, int8, uint8, int16, uint16, int32, uint32, int64, uint64
            
            
                py.memoryview
                double, single, int8, uint8, int16, uint16, int32, uint32, int64, uint64
            
            
                py.numpy.ndarray
                double, single, int8, uint8, int16, uint16, int32, uint32, int64, uint64
            
            
                py.list
                double, single, int8, uint8, int16, uint16, int32, uint32, int64, uint64, logical, string, cell
            
            
                py.tuple
                double, single, int8, uint8, int16, uint16, int32, uint32, int64, uint64, logical, string, cell
            
            
                py.dict
                struct
            
        
        <p></p>
        <p>
            <b>Pass scalar Nelson type to Python:</b>
        </p>
        <p></p>
        
            
                Nelson scalar input argument type
                Python type
            
            
                NaN
                float("nan")
            
            
                Inf
                float("inf")
            
            
                double (real)
                py.float
            
            
                single (real)
                py.float
            
            
                double (complex)
                py.complex
            
            
                single (complex)
                py.complex
            
            
                int8
                py.int
            
            
                uint8
                py.int
            
            
                int16
                py.int
            
            
                uint16
                py.int
            
            
                int32
                py.int
            
            
                uint32
                py.int
            
            
                int64
                py.int
            
            
                uint64
                py.int
            
            
                string scalar
                py.str
            
            
                char vector
                py.str
            
            
                logical
                py.bool
            
            
                struct
                py.dict
            
        
        <p></p>
        <p>
            <b>Pass 1-by-N Vector Nelson type to Python:</b>
        </p>
        <p></p>
        
            
                Nelson 1-by-N Vector input argument type
                Python type
            
            
                double (real)
                array.array('d')
            
            
                single (real)
                array.array('f')
            
            
                int8
                array.array('b')
            
            
                uint8
                array.array('B')
            
            
                int16
                array.array('h')
            
            
                uint16
                array.array('H')
            
            
                int32
                array.array('i')
            
            
                uint32
                array.array('I')
            
            
                int64
                array.array('q')
            
            
                uint64
                array.array('Q')
            
            
                double
                memoryview
            
            
                single
                memoryview
            
            
                logical
                memoryview
            
            
                char vector
                str
            
            
                string scalar
                str
            
            
                cell vector
                tuple
            
        
        <p></p>
        <p>
            <b>Pass 2D Matrices and ND Arrays to Python:</b>
        </p>
        <p>The Python language offers a protocol for accessing memory buffers, akin to the data stored in Nelson arrays.</p>
        <p>Nelson incorporates this Python buffer protocol for its arrays.</p>
    </div>
</div>
<div class="section">
<div class="section-title">
<span class="syntax-icon">ðŸ’¡</span> Examples</div>
<div class="example"><div style="display:flex;align-items:flex-start;gap:8px;">
<code class="matlab syntax-block" style="flex:1 1 auto;">R = pyrun('', "A", 'A', magic(3))
R.double()</code><button class="copy-btn" type="button" onclick="copyExample(this)" title="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" style="display:block;"><rect x="7" y="3" width="10" height="14" rx="2" fill="white" fill-opacity="0.15" stroke="white" stroke-width="1.2"></rect><rect x="3" y="7" width="10" height="10" rx="2" fill="currentColor"></rect></svg></button>
</div></div>
<div class="example">
<div class="example-title">dictionary conversion nelson -- python</div>
<div style="display:flex;align-items:flex-start;gap:8px;">
<code class="matlab syntax-block" style="flex:1 1 auto;">wheels = [1 2 3];
names = ["Monocycle" "Bicycle" "Tricycle"];
d = dictionary(wheels, names)
R = pyrun("A = d", "A", 'd', d)
dictionary(R)</code><button class="copy-btn" type="button" onclick="copyExample(this)" title="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" style="display:block;"><rect x="7" y="3" width="10" height="14" rx="2" fill="white" fill-opacity="0.15" stroke="white" stroke-width="1.2"></rect><rect x="3" y="7" width="10" height="10" rx="2" fill="currentColor"></rect></svg></button>
</div>
</div>
</div>
<div class="section">
<div class="section-title">
<span class="syntax-icon">ðŸ”—</span> See Also</div>
<div>
<a class="see-also-link" href="../python_engine/pyrun.html">pyrun</a><a class="see-also-link" href="../dictionary/dictionary.html">dictionary</a>
</div>
</div>
<div class="section">
<div class="section-title">
<span class="syntax-icon">ðŸ•”</span> Version History</div>
<table class="param-table">
<tr>
<th>Version</th>
<th>Description</th>
</tr>
<tr>
<td class="version">1.4.0</td>
<td>initial version</td>
</tr>
</table>
</div>
<div class="section" style="margin-top:30px;">
<div class="section-title">
<span class="syntax-icon">ðŸ‘¤</span> Author</div>
<div>Allan CORNET</div>
</div>
</body>
</html>
